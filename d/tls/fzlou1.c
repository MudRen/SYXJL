// Room: /d/tianlongsi/fzlou1.c

inherit ROOM;


void create()
{
	set("short", "茶室");
	set("long", @LONG
这里是方丈待客的地方，靠墙左右两侧摆着一溜太师椅。北
面墙上挂了一付对联。墙角一几，放着几个茶壶。有个茶壶壶身
上题了“碧螺春”三个篆字，壶嘴热气腾腾，似乎是刚沏的新茶。
往北是方丈室。
LONG
	);

	set("exits", ([
		"up" : __DIR__"fzlou2",
		"down" : __DIR__"fzlou",
	]));

	set("objects",([
//		CLASS_D("shaolin") + "/qing-le" : 1,
	]));

	set("coor/x",-90);
	set("coor/y",-110);
	set("coor/z",40);
	set("coor/x",-90);
	set("coor/y",-110);
	set("coor/z",40);
	set("coor/x",-90);
	set("coor/y",-110);
	set("coor/z",40);
	set("coor/x",-90);
	set("coor/y",-110);
	set("coor/z",40);
	setup();
}

int valid_leave(object me, string dir)
{
	int skill;

	skill = me->query_skill("buddhism", 1);
	if (!wizardp(me) && skill < 101)
	{
		if (dir == "north" )
		{
			return notify_fail("你资格不够，不能进入方丈室。\n");
		}
	}
	return ::valid_leave(me, dir);
}


