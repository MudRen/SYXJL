// YZC 1995/12/04 
inherit ROOM;

void create()
{
set("short", "随缘客栈");
        set("long_spring", @LONG
春天，这是一家价钱低廉的客栈，生意非常兴隆。外地游客多选择这里落脚，你
可以在这里打听到各地的风土人情。店小二里里外外忙得团团转，接待着南腔北调
的客人。客店的主人从不露面，他究竟是谁，有各种各样的猜测。墙上挂着一个牌
子(paizi)。东面是城里才开的车行。
LONG
        );
        set("long_summer", @LONG
夏天，这是一家价钱低廉的客栈，生意非常兴隆。外地游客多选择这里落脚，你
可以在这里打听到各地的风土人情。店小二里里外外忙得团团转，接待着南腔北调
的客人。客店的主人从不露面，他究竟是谁，有各种各样的猜测。墙上挂着一个牌
子(paizi)。东面是城里才开的车行。
LONG
        );
        set("long_autumn", @LONG
秋天，这是一家价钱低廉的客栈，生意非常兴隆。外地游客多选择这里落脚，你
可以在这里打听到各地的风土人情。店小二里里外外忙得团团转，接待着南腔北调
的客人。客店的主人从不露面，他究竟是谁，有各种各样的猜测。墙上挂着一个牌
子(paizi)。东面是城里才开的车行。
LONG
        );
        set("long_winter", @LONG
冬天，这是一家价钱低廉的客栈，生意非常兴隆。外地游客多选择这里落脚，你
可以在这里打听到各地的风土人情。店小二里里外外忙得团团转，接待着南腔北调
的客人。客店的主人从不露面，他究竟是谁，有各种各样的猜测。墙上挂着一个牌
子(paizi)。东面是城里才开的车行。
LONG
        );  
        set("long_day1", @LONG
深夜的客栈内空空荡荡，柜台上一盏油灯独自闪动点点火光，店小二靠着柜台昏昏
欲睡。墙上挂着一个牌子(paizi)黑蒙蒙的看不太清楚。
LONG
        );   
        set("long_day2", @LONG
黎明时分客内漆黑一团，惟有柜台上一盏油灯闪动点点火光，店内非常安静，
偶闻窗外鸟雀轻鸣。住店的客人都还睡着，房门紧闭没有任何灯火。守夜的店小二
无精打采的看着你。墙上挂着一个牌子(paizi)黑蒙蒙的看不太清楚。      
LONG
        );  
        set("long_day3", @LONG
清晨客栈内已经忙碌起来，休整一夜的旅客们收拾行装早早上路。店小二正忙碌
笑送客人。大门外车水马龙尽是赶早的旅客。不时可听见卖早点小贩的吆喝声。扬州
热闹的一天就此开始。墙上挂着一个牌子(paizi)。
LONG
        );  
        set("long_day4", @LONG
上午的扬州客栈却比较安静，办事儿的旅客早以外出。昨夜通宵达旦的人却还在熟
睡，店小二忙碌的收拾客房。掌柜子噼噼啪啪拨着算盘珠子。店内的墙上挂着一个小木
牌子(paizi)。
LONG
        );
        set("long_day5", @LONG
正午时分，小店内非常忙碌，来来往往的客人们乐意不绝。大门外人头传动熙熙攘
攘，店小二站在门口大声招揽顾客。掌柜子笑眯眯的应付顾客。店内的墙上挂着一个小
木牌子(paizi)。          
LONG
        );  
        set("long_day6", @LONG
这是一家价钱低廉的客栈，生意非常兴隆。外地游客多选择这里落脚，你
可以在这里打听到各地的风土人情。店小二里里外外忙得团团转，接待着南腔北调
的客人。客店的主人从不露面，他究竟是谁，有各种各样的猜测。墙上挂着一个牌
子(paizi)。东面是城里才开的车行。
LONG
        );        
        set("long_day7", @LONG
此刻正是客店里一天中最忙碌的时刻。住店的客人乐意不绝，店小二已忙得不可开
交，掌柜子脸上那商业般的笑容叫人看了很是舒服。由于经营有佳，加之价廉物美，扬
州城里南来北往的旅客多是这里的顾客。墙上挂着一个牌子(paizi)。          
LONG
        );  
        set("long_day8", @LONG
夜晚来临，楼上的客房内都电亮了火烛。大门外的人群也稀少了许多，到处渐渐安
静了下来。店小二拿着扫帚正在清洁店内，掌柜子噼噼啪啪拨着算盘珠子，盘算着整天
的收入。听闻远处不时传来饮酒作乐的声音。墙上挂着一个牌子(paizi)。      
LONG
        );  
        set("no_fight", 1);
        set("no_study", 1);
        set("valid_startroom", 1);
        set("no_sleep_room",1);
        set("no_yun",1);
 set("no_shot","敢在公众场合放暗器？不想混了？");
//        set("season",1);
        set("day_change",1);

        set("item_desc", ([
                "paizi" : "楼上雅房，每夜二十两白银。\n",
        ]));

        set("objects", ([
                __DIR__"npc/xiaoer" : 1,
                
                "/u/bsd/npc/lixunhuan" : 1,
//              __DIR__"npc/xiaobao" : 1,
// Room: /city/kedian.c
        ]));

        set("exits", ([
                "west"  : __DIR__"beidajie1",
                "up"    : __DIR__"kedian2",
                "east"  : "/d/chehang/mache",
                "enter" : __DIR__"chatroom",
        ]));

        setup();
         "/clone/board/kedian_b"->foo();
}

int valid_leave(object me, string dir)
{

        if ( !me->query_temp("rent_paid") && dir == "up" )
                return notify_fail("店小二一下挡在楼梯前，白眼一翻：怎麽着，想白住啊！\n");

        if ( me->query_temp("rent_paid") && dir == "west" )
                return notify_fail("店小二跑到门边拦住：客官已经付了银子，怎麽不住店就走了呢！
旁人还以为小店伺候不周呢！\n");

        return ::valid_leave(me, dir);
}


